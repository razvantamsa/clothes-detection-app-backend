service: clothes-detection-status
frameworkVersion: '3'

provider:
  name: aws
  runtime: nodejs18.x
  profile: clothes-detection-app
  region: us-west-2
  timeout: 30
  apiGateway:
    binaryMediaTypes:
      - 'multipart/form-data'
  environment:
    S3_ASSETS_BUCKET: 'clothes-detection-assets-bucket'
  iamRoleStatements:
    - Effect: Allow
      Action:
        - s3:*
        - lambda:*
        - secretsmanager:*
      Resource: "*"

functions:
  healthcheck: ${file(./serverless/functions/status.yml):healthcheck}
  getDocs: ${file(./serverless/functions/status.yml):getDocs}
  postDocs: ${file(./serverless/functions/status.yml):postDocs}